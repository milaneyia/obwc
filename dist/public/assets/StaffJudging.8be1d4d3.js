import{J as e}from"./index.8651ecd1.js";import{_ as s}from"./DataTable.e3358bee.js";import{d as a,b as t,o as d,c as r,a as i,w as n,g as l,e as u}from"./vendor.437caaf2.js";var o=a({name:"StaffJudging",components:{DataTable:s},data(){return{judgingType:e.Mappers,resultsData:null,fields:[{key:"team",label:"Team",formatter:e=>e.name},{key:"judging",label:"Count",formatter:this.getJudgesInvolvedCount},{key:"judging",label:"Judges",formatter:this.getJudgesInvolved},{key:"judging",label:"Missing Judges",formatter:this.getMissingJudges}]}},computed:{allJudges(){var e;return(null==(e=this.resultsData)?void 0:e.judges)||[]}},watch:{judgingType:{async handler(e){const{data:s}=await this.$http.get(`/api/rounds/${this.$route.params.id}/results?type=${e}`);this.resultsData=s},immediate:!0}},methods:{getJudgesInvolvedCount(e){var s;return e.map((e=>e.judge)).length+" done of "+(null==(s=this.resultsData)?void 0:s.judges.length)},getJudgesInvolved:e=>e.map((e=>e.judge.username)).join(", "),getMissingJudges(e){return this.allJudges.filter((s=>e.every((e=>e.judge.id!==s.id)))).map((e=>e.username)).join(", ")}}});const g={class:"container"},m={class:"card"},c=i("div",{class:"card-title"}," Judging List ",-1),p={class:"card-subtitle"},v=u(" Summary of all the judging done, for detailed scoring go to the result page "),f=u(" here "),h={class:"card my-2"},y={key:0,class:"card-body"},j={class:"mb-2"},b=u(" Type: "),J={key:1,class:"card-body"};o.render=function(e,s,a,u,o,k){var D;const T=t("router-link"),C=t("data-table");return d(),r("div",g,[i("div",m,[c,i("div",p,[v,i(T,{to:{name:"results",query:{round:e.$route.params.id}}},{default:n((()=>[f])),_:1},8,["to"])])]),i("div",h,[(null==(D=e.resultsData)?void 0:D.round.submissions.length)?(d(),r("div",y,[i("div",j,[b,i("a",{class:"me-2",href:"#",onClick:s[1]||(s[1]=l((s=>e.judgingType=1),["prevent"]))}," mapper "),i("a",{href:"#",onClick:s[2]||(s[2]=l((s=>e.judgingType=2),["prevent"]))}," player ")]),i(C,{fields:e.fields,items:e.resultsData.round.submissions},null,8,["fields","items"])])):(d(),r("div",J," No submissions "))])])};export default o;
